Ruta A · Plan por fases (sin construir aún el modelo)Fase A0 — Encaje normativo y trazabilidad de fuentesDecisión funcional (ya cerrada): Los anexos A–D son el marco normativo del inventario (clasificación → atributos → reglas por subcategoría → dominios/valores). 01-02 - FRaD - Anexo A - Clasif…01-02 - FRaD - Anexo B - Atribu…01-02 - FRaD - Anexo C - Defini…01-02 - FRaD - Anexo D - Domini…Implicación técnica: Definir el “mapa de trazabilidad” obligatorio: cada entidad/campo/regla técnica debe apuntar a (Anexo X + sección) o a un RF/FRaD. 01-01 - FRaD_Modulo_Inventario_…02-01 - DOCUMENTO RFImpacto UX: ninguno todavía (solo precondición de no ambigüedad).Entregables:Matriz Fuente → Objeto técnico (Anexo/RF → entidad/campo/constraint).Glosario de términos “tal cual” (Category/Subcategory/Attribute/Domain/Value, O/OP/C/NA). 01-02 - FRaD - Anexo C - Defini…Dependencias: ninguna (es el arranque).Fase A1 — Núcleo troncal del inventarioDecisión funcional: “La pieza nace una vez” con ID único + código visible + QR; inventario troncal multi-tienda. 01-01 - FRaD_Modulo_Inventario_…02-01 - DOCUMENTO RFImplicación técnica: Definir entidades mínimas troncales (Pieza/Identificación) y constraints de unicidad/no reutilización. 02-01 - DOCUMENTO RFImpacto UX: condiciona flujos: alta, búsqueda por QR/código, ficha única.Entregables:ERD v0 del núcleo (solo entidades troncales).Diccionario de datos de Pieza (campos mínimos MVP + constraints).Reglas de integridad “duras” (uniqueness, not null, etc.). 01-01 - FRaD_Modulo_Inventario_…02-01 - DOCUMENTO RFDependencias: salida de A0.Fase A2 — Clasificación normada (Categorías/Subcategorías)Decisión funcional: una pieza pertenece a una categoría y una subcategoría, que gobiernan la ficha dinámica. 01-02 - FRaD - Anexo A - Clasif…Implicación técnica: Entidades de catálogo + relaciones (Category–Subcategory–Item), y mecanismos de versionado/control (sin “hardcode”).Impacto UX: filtros, navegación, y el disparador de ficha dinámica (SubcategoryId).Entregables:Modelo lógico de Category/Subcategory + constraints.Reglas de integridad: “Subcategory siempre depende de Category”, y “Item debe tener ambas”. 01-02 - FRaD - Anexo A - Clasif…01-01 - FRaD_Modulo_Inventario_…Dependencias: A1.Fase A3 — Catálogo global de atributos (Anexo B)Decisión funcional: los atributos se definen una sola vez y se reutilizan; obligatoriedad no está aquí, sino en Anexo C. 01-02 - FRaD - Anexo B - Atribu…Implicación técnica: Entidad Attribute con tipo de dato, flags y referencia opcional a dominio; preparación para asignación por subcategoría.Impacto UX: aún no diseña pantallas, pero fija qué inputs existen.Entregables:Tabla/estructura de Attribute (metadatos: datatype, domainId opcional, etc.).Diccionario de datos de atributos (incluye relación con dominios cuando aplique). 01-02 - FRaD - Anexo B - Atribu…Dependencias: A2.Fase A4 — Dominios y valores controlados (Anexo D)Decisión funcional: todo atributo tipo lista referencia un dominio; dominios cerrados vs semi-cerrados; semi-cerrados exigen justificación y auditoría. 01-02 - FRaD - Anexo D - Domini…Implicación técnica: Entidades Domain + DomainValue + políticas (closed/semi-closed), versionado y auditoría de ampliaciones.Impacto UX: validaciones y comportamiento: impedir valores fuera de dominio; en semi-cerrado pedir motivo. 01-02 - FRaD - Anexo D - Domini…Entregables:Modelo técnico de Dominios/Valores (incluye tipo de dominio).Reglas de integridad: “no se permite valor fuera de dominio”, “justificación obligatoria en semi-cerrado”. 01-02 - FRaD - Anexo D - Domini…Dependencias: A3.Fase A5 — Asignación de atributos por subcategoría + reglas (Anexo C)Decisión funcional: por cada subcategoría se define qué atributos aplican y su obligatoriedad O/OP/C/NA + reglas condicionales y revalidación al cambiar subcategoría. 01-02 - FRaD - Anexo C - Defini…Implicación técnica (decisión clave de implementación):Estructura SubcategoryAttributeRule (orden, visibilidad, obligatoriedad, condición).Representación “ejecutable” de condiciones (sin interpretación humana). 01-02 - FRaD - Anexo C - Defini…Impacto UX: ficha dinámica determinista.Entregables:Estructura de reglas por subcategoría (asignación + condición + orden).Catálogo de condiciones (modelo formal de “si Grabado=Sí ⇒ Texto grabado obligatorio”, etc.). 01-02 - FRaD - Anexo C - Defini…Dependencias: A4.Fase A6 — Persistencia de valores de atributos por piezaDecisión funcional: la ficha de pieza se construye exclusivamente con el catálogo de atributos y sus reglas (no hay campos ad-hoc). 01-02 - FRaD - Anexo B - Atribu…01-02 - FRaD - Anexo C - Defini…Implicación técnica: decidir patrón de almacenamiento:(i) EAV gobernado (ItemAttributeValue) + validación por reglas(ii) Tablas por subcategoría (muy pesado para evolución)Impacto UX: transparencia de edición vs performance de lectura.Entregables:Diseño lógico de almacenamiento de valores.Reglas de integridad entre Item ↔ Attribute ↔ Value ↔ Domain. 01-02 - FRaD - Anexo B - Atribu…01-02 - FRaD - Anexo D - Domini…Dependencias: A5.Fase A7 — Movimientos, estados, ubicación, auditoría (trazabilidad obligatoria)Decisión funcional: cambios de estado/ubicación solo mediante eventos/movimientos; cada movimiento registra usuario, fecha/hora, origen/destino, motivo y documento opcional. 02-01 - DOCUMENTO RFImplicación técnica: entidad InventoryMovement + constraints que impidan “cambio directo” sin movimiento; estados y ubicaciones como catálogos configurables. 02-01 - DOCUMENTO RF01-02 - FRaD - Anexo D - Domini…Impacto UX: todo cambio relevante queda trazado; evita inconsistencias.Entregables:Modelo de movimientos + reglas de integridad de auditoría.Catálogos de Estado Operativo y Ubicación (apoyados por dominios). 02-01 - DOCUMENTO RF01-02 - FRaD - Anexo D - Domini…Dependencias: A1 (núcleo), A2 (ubicación puede depender), y RF de movimientos.Fase A8 — “Contrato técnico” final para desarrolloDecisión funcional: el inventario gobierna módulos conectados (venta, caja, reparaciones, garantías, facturación) sin duplicar el dato. 01-01 - FRaD_Modulo_Inventario_…02-01 - DOCUMENTO RFImplicación técnica: definición de claves de integración (ItemId + referencias a documentos) y API/servicios mínimos.Impacto UX: coherencia cross-módulo.Entregables:ERD final + diccionario de datos final.Lista de constraints/reglas (DB + servicio).Contratos de integración mínimos (IDs y relaciones). 01-01 - FRaD_Modulo_Inventario_…02-01 - DOCUMENTO RFDependencias: todas las anteriores.Punto crítico que debemos resolver (sin decidir aún, solo enmarcar)Para que el modelo sea implementable sin interpretación, hay 1 bisagra técnica que se define en A6/A5:Cómo representamos y validamos reglas condicionales del Anexo C (ej.: “Texto grabado obligatorio si Grabado=Sí”). 01-02 - FRaD - Anexo C - Defini…Esto no cambia la regla; define su “formato ejecutable”.
