Diccionario de datos extendido — Módulo Inventario (LES) · v0.10) Convenciones generalesPK: Primary KeyFK: Foreign KeyUQ: UniqueNN: Not NullAudit: CreatedAt/CreatedBy/UpdatedAt/UpdatedBy obligatorios (todas las tablas de gobierno y datos).Tipos sugeridos neutrales: UUID, BIGINT, VARCHAR(n), TEXT, DECIMAL(p,s), BOOL, DATE, DATETIME.“Fuente” = referencia normativa principal (Anexo/RF/FRaD).1) InventoryItem (Pieza) — TRONCALPropósitoEntidad única por pieza; concentra identidad, estado y ubicación actuales; clasificación obligatoria; enlaza con atributos dinámicos y movimientos.CamposCampoTipoNNClavesDescripción técnicaFuenteItemIdUUID/BIGINTSíPKIdentificador interno único no reutilizableRF inventario + FRaD 4.1ItemCodeVARCHAR(50)SíUQCódigo visible de pieza (generado / parametrizable). TRONCAL + mapeo atributo “Código interno”RF + FRaD 4.1 + Anexo BQRValueVARCHAR(200)SíUQValor QR asociado a la pieza. TRONCAL + mapeo atributo “QR”RF + FRaD 4.1 + Anexo BOperationalStatusIdUUID/BIGINTSíFKEstado operativo actual de la piezaRF + Anexo DLocationIdUUID/BIGINTSíFKUbicación actual de la piezaFRaD 4.2 + Anexo DCategoryIdUUID/BIGINTSíFKCategoría de inventario (clasificación)Anexo A + FRaD 4.2SubcategoryIdUUID/BIGINTSíFKSubcategoría (gobierna ficha dinámica)Anexo A + FRaD 4.2LastMovementAtDATETIMENo*—Timestamp del último movimiento. Derivado (solo lectura). Mapeo atributo común “Fecha último movimiento”Anexo B + RF movimientosCreatedAtDATETIMESí—Fecha/hora creaciónFRaD trazabilidadCreatedByUserIdUUID/BIGINTSíFKUsuario creadorFRaD trazabilidadUpdatedAtDATETIMESí—Fecha/hora última actualizaciónFRaD trazabilidadUpdatedByUserIdUUID/BIGINTSíFKUsuario última actualizaciónFRaD trazabilidad* LastMovementAt puede ser NN cuando A7 esté activo en producción (toda pieza creada genera movimiento CREATE).Constraints complementarios (referenciados):UQ(ItemCode), UQ(QRValue).Consistencia Category↔Subcategory (ver CategorySubcategory).Prohibición de cambios directos de status/location sin movimiento (regla de servicio/trigger).2) Category (Catálogo de categorías) — GOBIERNOCampoTipoNNClavesDescripciónFuenteCategoryIdUUID/BIGINTSíPKIdentificador categoríaAnexo ANameVARCHAR(100)SíUQNombre categoríaAnexo ADescriptionTEXTNo—DefiniciónAnexo AIsActiveBOOLSí—Activación lógica (no borrado físico)Gobierno LESCreatedAtDATETIMESí—AuditoríaFRaDCreatedByUserIdUUID/BIGINTSíFKAuditoríaFRaDUpdatedAtDATETIMESí—AuditoríaFRaDUpdatedByUserIdUUID/BIGINTSíFKAuditoríaFRaD3) Subcategory (Catálogo de subcategorías) — GOBIERNOCampoTipoNNClavesDescripciónFuenteSubcategoryIdUUID/BIGINTSíPKIdentificador subcategoríaAnexo ACategoryIdUUID/BIGINTSíFKCategoría padreAnexo ANameVARCHAR(100)SíUQ*Nombre subcategoríaAnexo ADescriptionTEXTNo—DefiniciónAnexo AIsActiveBOOLSí—Activación lógicaGobierno LESCreatedAt/ByauditSí—AuditoríaFRaDUpdatedAt/ByauditSí—AuditoríaFRaD* Recomendado: UQ(CategoryId, Name) en lugar de UQ(Name) global (evita colisiones futuras). Respetuoso con Anexo A.4) CategorySubcategory (Relación normada) — GOBIERNO / INTEGRIDADCampoTipoNNClavesDescripciónFuenteCategoryIdUUID/BIGINTSíPK/FKCategoríaAnexo ASubcategoryIdUUID/BIGINTSíPK/FKSubcategoríaAnexo AIsActiveBOOLSí—Activación lógicaGobiernoCreatedAt/ByauditSí—AuditoríaFRaDUso: FK compuesto desde InventoryItem(CategoryId, SubcategoryId) para garantizar consistencia.5) OperationalStatus (Catálogo de estados operativos) — TRONCAL / DOMINIOEste catálogo debe alinearse con Dominios del Anexo D (estado operativo).CampoTipoNNClavesDescripciónFuenteOperationalStatusIdUUID/BIGINTSíPKIdentificador estadoAnexo DNameVARCHAR(80)SíUQNombre estadoAnexo DIsActiveBOOLSí—Activación lógicaGobiernoCreatedAt/ByauditSí—AuditoríaFRaD6) Location (Catálogo de ubicaciones) — TRONCAL / DOMINIOCampoTipoNNClavesDescripciónFuenteLocationIdUUID/BIGINTSíPKIdentificador ubicaciónAnexo DNameVARCHAR(120)SíUQNombre ubicaciónAnexo DIsActiveBOOLSí—Activación lógicaGobiernoCreatedAt/ByauditSí—AuditoríaFRaD7) AppUser (Usuarios) — SOPORTE / AUDITORÍACampoTipoNNClavesDescripciónFuenteUserIdUUID/BIGINTSíPKIdentificador usuarioRF / FRaD rolesDisplayNameVARCHAR(120)Sí—Nombre visible—RoleCodeVARCHAR(40)Sí—Rol funcional (Admin/Dependienta)RF rolesIsActiveBOOLSí—Activación lógicaGobierno8) Attribute (Catálogo de atributos) — NORMATIVO (Anexo B)CampoTipoNNClavesDescripciónFuenteAttributeIdUUID/BIGINTSíPKIdentificador atributoAnexo BNameVARCHAR(120)SíUQNombre único del atributoAnexo BDescriptionTEXTNo—Definición funcionalAnexo BDataTypeVARCHAR/ENUMSí—TEXT/NUMBER/BOOLEAN/LIST/RANGE/DATEAnexo BDomainIdUUID/BIGINTNo*FKDominio de valores si LISTAnexo DIsActiveBOOLSí—Activación lógicaGobiernoCreatedAt/ByauditSí—AuditoríaFRaD* NN solo cuando DataType=LIST. (Regla dura R7).9) Domain (Catálogo de dominios) — NORMATIVO (Anexo D)CampoTipoNNClavesDescripciónFuenteDomainIdUUID/BIGINTSíPKIdentificador dominioAnexo DCodeVARCHAR(80)SíUQCódigo estable (gobierno)Gobierno LESNameVARCHAR(120)SíUQNombre dominioAnexo DDescriptionTEXTNo—DefiniciónAnexo DDomainTypeVARCHAR/ENUMSí—CLOSED / SEMI_CLOSEDAnexo DIsActiveBOOLSí—Activación lógicaGobiernoCreatedAt/ByauditSí—Auditoría—10) DomainValue (Valores controlados) — NORMATIVO (Anexo D)CampoTipoNNClavesDescripciónFuenteDomainValueIdUUID/BIGINTSíPKIdentificador valorAnexo DDomainIdUUID/BIGINTSíFKDominio padreAnexo DCodeVARCHAR(80)NoUQ(DomainId,Code)Código interno opcionalGobiernoValueVARCHAR(200)SíUQ(DomainId,Value)Texto del valor controladoAnexo DSortOrderINTNo—Orden estableUX/ConfiguraciónSourceVARCHAR/ENUMNo—NORMATIVE / USER_ADDEDSemi-cerradosJustificationTEXTNo*—Obligatoria si USER_ADDEDSemi-cerradosIsActiveBOOLSí—Activación lógicaGobiernoCreatedAt/ByauditSí—Auditoría—* NN cuando Source=USER_ADDED.11) DomainValueRequest (Solicitud de alta de valor) — GOBIERNO (semi-cerrados)CampoTipoNNClavesDescripciónFuenteRequestIdUUID/BIGINTSíPKIdentificador solicitudImplementación A4DomainIdUUID/BIGINTSíFKDominio semi-cerradoAnexo DProposedValueVARCHAR(200)Sí—Valor propuesto—JustificationTEXTSí—Motivo obligatorioAnexo D (control)RequestedByUserIdUUID/BIGINTSíFKUsuario solicitante—RequestedAtDATETIMESí—Fecha solicitud—StatusVARCHAR/ENUMSí—PENDING/APPROVED/REJECTED—ReviewedByUserIdUUID/BIGINTNoFKRevisor—ReviewedAtDATETIMENo—Fecha revisión—DecisionNoteTEXTNo—Nota opcional—12) SubcategoryAttributeRule (Asignación base) — NORMATIVO (Anexo C)CampoTipoNNClavesDescripciónFuenteSubcategoryIdUUID/BIGINTSíPK/FKSubcategoríaAnexo CAttributeIdUUID/BIGINTSíPK/FKAtributo aplicableAnexo CApplicabilityVARCHAR/ENUMSí—O / OP / C / NAAnexo CDisplayOrderINTNo—Orden de presentación(Gobierno si no viene)GroupCodeVARCHAR(40)No—Sección lógica(Gobierno)IsVisibleByDefaultBOOLSí—Visible por defecto—IsEditableBOOLSí—Editable—CreatedAt/ByauditSí—Auditoría—13) SubcategoryRule / RuleCondition / RuleAction — NORMATIVO ejecutable (Anexo C)13.1 SubcategoryRuleCampoTipoNNClavesDescripciónFuenteRuleIdUUID/BIGINTSíPKIdentificador reglaAnexo C (reglas)SubcategoryIdUUID/BIGINTSíFKSubcategoríaAnexo CRuleNameVARCHAR(120)Sí—Nombre estableGobiernoRuleTypeVARCHAR/ENUMSí—REQUIRED/VISIBLE/ALLOWED/DERIVEDImplementaciónPriorityINTSí—Orden evaluaciónImplementaciónIsActiveBOOLSí—Activación lógica—CreatedAt/ByauditSí—Auditoría—13.2 RuleConditionCampoTipoNNClavesDescripciónRuleIdFKSí—regla padreLeftAttributeIdFKSí—atributo comparadoOperatorENUMSí—EQ/NEQ/IN/…RightValueTypeENUMSí—CONST/DOMAIN_VALUE/ATTRIBUTERightConstValueVARCHARNo—si CONSTRightDomainValueIdFKNo—si DOMAIN_VALUERightAttributeIdFKNo—si ATTRIBUTELogicGroupINTSí—agrupación ORLogicOpENUMSí—AND/OR13.3 RuleActionCampoTipoNNClavesDescripciónRuleIdFKSí—regla padreTargetAttributeIdFKSí—atributo afectadoActionTypeENUMSí—SET_REQUIRED/SET_VISIBLE/SET_NOT_APPLICABLE/…ActionValueVARCHARNo—opcional14) ItemAttributeValue (valores actuales) — DATOSCampoTipoNNClavesDescripciónFuenteItemAttributeValueIdUUID/BIGINTSíPKIdentificador—ItemIdUUID/BIGINTSíFKPiezaNúcleoAttributeIdUUID/BIGINTSíFKAtributoAnexo BValueTextTEXTNo—Valor texto—ValueNumberDECIMALNo—Valor numérico—ValueBooleanBOOLNo—Valor booleano—DomainValueIdUUID/BIGINTNoFKValor de dominio (LIST)Anexo DValueDateDATE/DATETIMENo—Fecha—RangeMinDECIMALNo—Rango min—RangeMaxDECIMALNo—Rango max—CreatedAt/ByauditSí—Auditoría—UpdatedAt/ByauditSí—Auditoría—Constraints críticos (referencia):UQ(ItemId, AttributeId)“slot único por tipo” según Attribute.DataTypeDomainValue.DomainId = Attribute.DomainIdprohibido si NA para subcategoría efectiva (Anexo C)15) ItemAttributeValueHistory (histórico) — AUDITORÍA (recomendado)Estructura espejo de ItemAttributeValue + ValidFrom/ValidTo + ChangeReason.16) Movimientos16.1 MovementTypeCampoTipoNNClavesDescripciónFuenteMovementTypeIdUUID/BIGINTSíPKIdentificador tipoRF movimientosCodeVARCHAR(60)SíUQCódigo estableGobiernoNameVARCHAR(120)SíUQNombreRF movimientosDescriptionTEXTNo—Descripción—IsActiveBOOLSí—Activación lógica—16.2 InventoryMovementCampoTipoNNClavesDescripciónFuenteMovementIdUUID/BIGINTSíPKIdentificador movimientoRF inventarioItemIdUUID/BIGINTSíFKPieza afectadaNúcleoMovementTypeIdUUID/BIGINTSíFKTipo movimientoRF movimientosFromLocationIdUUID/BIGINTNoFKOrigen ubicación—ToLocationIdUUID/BIGINTNoFKDestino ubicación—FromStatusIdUUID/BIGINTNoFKEstado origen—ToStatusIdUUID/BIGINTNoFKEstado destino—MovementAtDATETIMESí—Fecha/hora del eventoTrazabilidadPerformedByUserIdUUID/BIGINTSíFKUsuario ejecutorTrazabilidadReasonCodeVARCHAR(60)No—Motivo estándar—ReasonNoteTEXTNo—Motivo libre—DocumentTypeIdUUID/BIGINTNo—Tipo doc externoIntegraciónDocumentIdVARCHAR/UUIDNo—Id doc externoIntegraciónCreatedAt/ByauditSí—Auditoría—Qué queda pendiente (siguiente bloque del diccionario)Para cerrar el diccionario “v0.2” completo sin lagunas, en el siguiente mensaje extenderé con:Tabla puente recomendada de “DocumentType” (si se gobierna desde inventario o desde un módulo documental).Campos adicionales de Inventario que existan como atributos comunes pero que convenga modelar como troncales derivados (si el FRaD/RF lo exige).Lista de índices recomendados (por rendimiento operativo: QR, ItemCode, Subcategory, Status, Location, MovementAt).
