DATASET MÍNIMO EJECUTABLE0) Usuarios / Roles (para permisos y auditoría)(si ya existe módulo seguridad, solo necesitamos 2 usuarios de QA)sec_roleROLE_ADMINROLE_DEPENDIENTAsec_userU_ADMIN_01 (role: ROLE_ADMIN)U_DEP_01 (role: ROLE_DEPENDIENTA)Los TC de permisos aparecen en el set de pruebas general.1) Catálogo de Clasificación (Categoría/Subcategoría)inv_categoryCAT_ANILLOSCAT_PENDIENTESCAT_COLLARES(mínimo 3 para cubrir variedad)inv_subcategoryPara CAT_ANILLOSSUB_ANILLO_SIN_PIEDRASUB_ALIANZASUB_MEDIA_ALIANZAPara CAT_PENDIENTESSUB_PENDIENTES_BOTONSUB_PENDIENTES_AROPara CAT_COLLARESSUB_COLLAR_CORTOSUB_COLLAR_RIGIDOinv_category_subcategory (relación)Crear las combinaciones válidas anteriores.Estas subcategorías están explícitamente listadas en el Anexo C (ejemplos claros para O/OP/C) 01-02 - FRaD - Anexo C - Defini…2) Dominios y Valores Controlados (Anexo D)2.1 Dominios cerrados (para TC de “valor fuera de lista”)Crear dominios y valores mínimos:Dominio Color del Metal (cerrado)AmarilloBlancoRosaBicolor 01-02 - FRaD - Anexo D - Domini…Dominio Quilataje / Ley (cerrado)18k14k925 01-02 - FRaD - Anexo D - Domini…Dominio Acabado (cerrado)BrilloMateSatinado 01-02 - FRaD - Anexo D - Domini…Dominio Estado Operativo (cerrado)DisponibleReservada / ApartadaEn reparación / personalizaciónEn tránsitoLista para entregaVendida (cerrada) 01-02 - FRaD - Anexo D - Domini…2.2 Dominios semi-cerrados (para TC de justificación y auditoría)Dominio Material (semi-cerrado)OroPlataAceroOtros (requiere justificación) 01-02 - FRaD - Anexo D - Domini…Dominio Tipo de Piedra (semi-cerrado)DiamanteZafiroCirconitaOtras (requiere justificación) 01-02 - FRaD - Anexo D - Domini…Dominio Ubicación (semi-cerrado)TiendaAlmacénTaller externoEn tránsito 01-02 - FRaD - Anexo D - Domini…Regla clave: el sistema impide valores fuera de dominio; en semi-cerrado exige justificación/auditoría.3) Catálogo de Atributos (Anexo B) + Vinculación a DominiosCrear solo los atributos necesarios para cubrir los escenarios de tests (no hace falta todo el anexo).inv_attribute (mínimo)Material principal (LIST → dominio Material)Ley/quilataje metal (LIST → dominio Quilataje/Ley)Color metal (LIST → dominio Color del Metal)Talla (TEXT o NUMBER según definición en tu catálogo)Tiene piedras (BOOLEAN)Tipo de piedra (LIST → dominio Tipo de Piedra)Número de piedras (NUMBER)Grabado (BOOLEAN)Texto grabado (TEXT)Acabado (LIST → dominio Acabado)Estado operativo (LIST → dominio Estado Operativo) (si se modela como atributo o como catálogo operativo)Ubicación actual (LIST → dominio Ubicación) (ídem)Anexo B define atributos comunes y su tipado/dominio (p.ej. Acabado, Estado operativo, Ubicación actual).4) Reglas por Subcategoría (Anexo C)Aquí es donde aseguramos que el dataset cubre condicionales.inv_subcategory_attribute (ejemplo mínimo viable)SUB_ANILLO_SIN_PIEDRAO: Material principal, Color metal, TallaOP: Anchura (si la incluyes), Acabado, GrabadoC: Texto grabado si Grabado=SíSUB_MEDIA_ALIANZA (para probar obligatorios duros de piedras)O: Material principal, Color metal, Talla, Tiene piedras=Sí, Número de piedrasOP: Tipo de engaste, Quilataje total piedras 01-02 - FRaD - Anexo C - Defini…SUB_PENDIENTES_BOTONO: Material principal, Color metal, Tiene piedrasC: Tipo de piedra si Tiene piedras=Sí 01-02 - FRaD - Anexo C - Defini…Regla estructural: (subcategory_id, attribute_id) UNIQUE y si requirement_level='C' entonces condition_expression NOT NULL.5) Catálogos Operativos (Estado / Ubicación)Si tu diseño separa “atributo” de “catálogo operativo”, crea:inv_operational_stateAVAILABLERESERVEDIN_REPAIRIN_TRANSITREADY_FOR_DELIVERYSOLD_CLOSEDinv_locationSTORE_DIPUTACIOSTORE_DIAGONAL (o segunda tienda)WAREHOUSE_MAINWORKSHOP_EXTERNALIN_TRANSIT6) Entidades asociadas (para Movimientos + Reserva + Taller)inv_customerCUST_A — “Cliente A (DNI/ID test)”CUST_B — “Cliente B (DNI/ID test)”inv_workshopWS_01 — “Taller Externo 01”7) Piezas de prueba (Inventory Items) — set mínimo recomendadoPIEZA P1 — “Anillo sin piedra” (para C Grabado)Categoría: AnillosSubcat: Anillo sin piedraEstado inicial: DisponibleUbicación inicial: STORE_DIPUTACIOValores:Material principal = Oro (semi-cerrado, valor existente)Color metal = AmarilloTalla = “14”Grabado = No → Texto grabado debe quedar C inactivo (visible + deshabilitado)Cubre: TC de C inactivo, NA oculto, dominios cerrados/semicerrados.PIEZA P2 — “Anillo sin piedra” (para C activo)Igual que P1, pero:Grabado = SíTexto grabado = “LOVE 2026”Cubre: TC de C activo obligatorio y guardado.PIEZA P3 — “Pendientes botón” (para C tipo piedra)Subcat: Pendientes de botónTiene piedras = SíTipo de piedra = DiamanteCubre: condicional por booleano distinto del grabado.PIEZA P4 — “Media alianza” (piedras obligatorias)Subcat: Media alianzaTiene piedras = SíNúmero de piedras = 7(opcional) Tipo engaste = GarrasCubre: obligatorios duros + validación numérica.8) Datos para flujos de Movimientos (listas listas para ejecutar TC)ReservaCrear reserva activa sobre P1 con:Cliente = CUST_ACaducidad = hoy + 7 díasEsto permitirá:intentar reservar de nuevo (unicidad)liberar reservaReparación / TallerEnviar P2 a taller:Taller = WS_01Descripción = “Ajuste y pulido”Luego:recibir desde taller con resultado OKEtiquetasImprimir etiqueta de P1 (print)Reimprimir etiqueta de P1 (reprint con motivo)Estos flujos están descritos en UC + SR y en el set de casos de prueba.9) Checklist de “Dataset Ready”Antes de ejecutar QA, valida:Dominios cargados (cerrados y semi-cerrados) 01-02 - FRaD - Anexo D - Domini…Atributos con data_type correcto y dominio enlazado si LISTReglas por subcategoría cargadas (O/OP/C/NA + condition_expression si C)Estados / ubicaciones cargadosClientes y taller creadosPiezas P1–P4 creadas correctamente con movimiento CREATE
